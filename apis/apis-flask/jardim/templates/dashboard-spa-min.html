<!doctype html><html lang=pt-BR><head> <meta charset=UTF-8> <meta name=viewport content="width=device-width,initial-scale=1"> <meta name=description content="Bem-vindo ao Painel do Jardim Inteligente de Vegetais. Monitore e controle os sensores de ar e solo, eletricidade, reservatórios e sensores ambientais do seu jardim de forma prática e eficiente. Regue suas plantas manualmente com um clique. Alterne entre os modos claro e escuro para uma experiência personalizada."> <link rel=preload href="https://fonts.googleapis.com/icon?family=Material+Icons" as=style> <link rel=stylesheet href="https://fonts.googleapis.com/icon?family=Material+Icons"> <link rel=icon href="{{url_for('static', filename='icon.png')}}" type=image/x-icon> <title>Painel do Jardim Inteligente de Vegetais</title> <style>body{background-color:#9f9f9f;margin:0;padding:0;display:flex;justify-content:center;align-items:center;min-height:100vh;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style> <link rel=stylesheet href="{{url_for('static', filename='styles.css')}}"> </head><body> <div class="container center-container"> <header> <h1 id=garden>Jardim</h1> <label class=switch> <input type=checkbox id=dark-mode-toggle> <span class=slider></span> </label> <button id=language-switch-btn>English</button> </header> <section class=sensor id=sensor-container> </section> <section class=water-plant> <h2>Rega das Plantas</h2> <button id=water-button class=water-button>Regar Manualmente</button> </section> </div></body></html><script>document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("water-button"),n=document.getElementById("sensor-container"),i=document.getElementById("dark-mode-toggle"),s=document.querySelector(".container"),r=document.body,o=localStorage.getItem("preferredMode");let t="portuguese";const a={english:{garden:"Garden",darkMode:"Dark Mode",lightMode:"Light Mode",manualWatering:"Manual Watering",sensorSection:"Air and Soil Sensors",airTemp:"Air Temperature",soilTemp:"Soil Temperature",ph:"Soil ph",airHumidity:"Air Humidity",soilMoisture:"Soil Moisture",electricitySection:"Electricity and Reservoirs",electricalConsumption:"Electrical Consumption",reservoirl1:"Reservoir Level 1",reservoirl2:"Reservoir Level 2",environmentalSensors:"Environmental Sensors",co2:"CO2 Level",light:"Light Level"},portuguese:{garden:"Jardim",darkMode:"Modo Escuro",lightMode:"Modo Claro",manualWatering:"Regar Manualmente",sensorSection:"Sensores de Ar e Solo",airTemp:"Temperatura do Ar",soilTemp:"Temperatura do Solo",ph:"ph do Solo",airHumidity:"Umidade do Ar",soilMoisture:"Umidade do Solo",electricitySection:"Eletricidade e Reservatórios",electricalConsumption:"Consumo de Eletricidade",reservoirl1:"Nível do Reservatório 1",reservoirl2:"Nível do Reservatório 2",environmentalSensors:"Sensores Ambientais",co2:"Nível de CO2",light:"Nível de Luz"}};function l(e){"dark"===e?(s.classList.add("dark-mode"),r.classList.add("dark-mode"),i.innerText=a[t].lightMode):(s.classList.remove("dark-mode"),r.classList.remove("dark-mode"),i.innerText=a[t].darkMode),localStorage.setItem("preferredMode",e)}function d(){fetch("/sensor-data").then((e=>e.json())).then((e=>{!function(e){n.innerHTML=`\n <h2>${a[t].sensorSection}</h2>\n <div class="sensor-item">\n <i class="material-icons">thermostat</i>\n <span>${a[t].airTemp}: ${e.air_temp}</span>\n </div>\n <div class="sensor-item">\n <i class="material-icons">thermostat</i>\n <span>${a[t].soilTemp}: ${e.soil_temp}</span>\n </div>\n <div class="sensor-item">\n <i class="material-icons">invert_colors</i>\n <span>${a[t].ph}: ${e.ph}</span>\n </div>\n <div class="sensor-item">\n <i class="material-icons">wb_sunny</i>\n <span>${a[t].airHumidity}: ${e.air_humidity}</span>\n </div>\n <div class="sensor-item">\n <i class="material-icons">opacity</i>\n <span>${a[t].soilMoisture}: ${e.soil_moisture}</span>\n </div>\n\n <h2>${a[t].electricitySection}</h2>\n <div class="sensor-item">\n <i class="material-icons">power</i>\n <span>${a[t].electricalConsumption}: ${e.electrical_consumption}</span>\n </div>\n <div class="sensor-item">\n <i class="material-icons">local_drink</i>\n <span>${a[t].reservoirl1}: ${e.reservoir_l1}</span>\n </di <div class="sensor-item">\n <i class="material-icons">local_drink</i>\n <span>${a[t].reservoirl2}: ${e.reservoir_l2}</span>\n </div>\n\n <h2>${a[t].environmentalSensors}</h2>\n <div class="sensor-item">\n <i class="material-icons">cloud</i>\n <span>${a[t].co2}: ${e.co2_level}</span>\n </div>\n <div class="sensor-item">\n <i class="material-icons">wb_incandescent</i>\n <span>${a[t].light}: ${e.light_level}</span>\n </div>\n `}(e)}))}i.addEventListener("click",(function(){r.classList.contains("dark-mode")?l("light"):l("dark")})),"dark"===o||null===o&&window.matchMedia("(prefers-color-scheme: dark)").matches?l("dark"):l("light"),e.addEventListener("click",(function(){fetch("/water-plant",{method:"POST"}).then((e=>e.json())).then((e=>{alert(e.message)}))})),d(),setInterval(d,7000);const c=document.getElementById("language-switch-btn");c.addEventListener("click",(function(){t="english"===t?"portuguese":"english",i.innerText=a[t].darkMode,e.innerText=a[t].manualWatering,garden.innerText=a[t].garden,c.innerText="english"===t?"Português":"English"}))}));</script>